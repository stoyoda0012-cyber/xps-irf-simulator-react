<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XPS IRF Simulator - Concept & Physical Model</title>
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --accent-blue: #3b82f6;
      --accent-green: #22c55e;
      --border-color: #475569;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    h1 {
      color: var(--accent-blue);
      margin-bottom: 0.5rem;
    }

    h2 {
      color: var(--accent-blue);
      margin-top: 2rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    h3 {
      color: var(--accent-green);
    }

    p {
      color: var(--text-secondary);
    }

    code {
      background-color: var(--bg-secondary);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9em;
    }

    pre {
      background-color: var(--bg-secondary);
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      border: 1px solid var(--border-color);
    }

    pre code {
      padding: 0;
      background: none;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border: 1px solid var(--border-color);
    }

    th {
      background-color: var(--bg-secondary);
      color: var(--accent-blue);
    }

    .back-link {
      display: inline-block;
      margin-bottom: 1rem;
      color: var(--accent-blue);
      text-decoration: none;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    .formula {
      background-color: var(--bg-secondary);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      font-size: 1.2em;
      margin: 1rem 0;
      border-left: 4px solid var(--accent-blue);
    }

    .highlight {
      color: var(--accent-green);
      font-weight: bold;
    }

    .lang-switch {
      position: absolute;
      top: 1rem;
      right: 2rem;
    }

    .lang-switch a {
      color: var(--accent-blue);
      text-decoration: none;
      padding: 0.25rem 0.5rem;
      border: 1px solid var(--border-color);
      border-radius: 3px;
    }

    .lang-switch a:hover {
      background-color: var(--bg-secondary);
    }
  </style>
</head>
<body>
  <div class="container" style="position: relative;">
    <div class="lang-switch">
      <a href="concept_ja.html">日本語</a>
    </div>
    <a href="../" class="back-link">&larr; Back to Simulator</a>

    <header>
      <h1>XPS IRF Simulator</h1>
      <p>Concept & Physical Model</p>
    </header>

    <h2>Overview</h2>
    <p>
      This simulator models the Instrumental Response Function (IRF) of X-ray Photoelectron Spectroscopy (XPS) systems.
      The IRF describes how the ideal spectrum is broadened and distorted by the measurement system.
    </p>

    <h2>Coordinate System</h2>
    <p>The simulator uses a 2D coordinate system:</p>
    <ul>
      <li><strong>X-axis (Energy)</strong>: Binding energy relative to Fermi level (meV)</li>
      <li><strong>Y-axis (Spatial)</strong>: Position along the slit direction (mm)</li>
    </ul>

    <h2>Physical Model</h2>

    <h3>1. Fermi-Dirac Distribution</h3>
    <p>The ideal spectrum of a metal at the Fermi edge follows:</p>
    <div class="formula">
      f(E, T) = 1 / (1 + exp(E / kT))
    </div>
    <p>Where k = 8.617 × 10⁻⁵ eV/K (Boltzmann constant)</p>

    <h3>2. Combined Resolution Model</h3>
    <p>The total IRF is the convolution of source and detector contributions:</p>
    <div class="formula">
      IRF<sub>total</sub> = IRF<sub>source</sub> ⊗ IRF<sub>detector</sub>
    </div>
    <p>For Gaussian broadening, the combined resolution is:</p>
    <div class="formula">
      σ<sub>combined</sub> = √(σ<sub>source</sub>² + σ<sub>detector</sub>²)
    </div>

    <h3>3. X-ray Source Parameters</h3>
    <table>
      <tr>
        <th>Parameter</th>
        <th>Symbol</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Source Resolution</td>
        <td>σ<sub>src</sub></td>
        <td>Intrinsic energy resolution of X-ray source (meV)</td>
      </tr>
      <tr>
        <td>Spot Width</td>
        <td>σ<sub>Y</sub></td>
        <td>Spatial width of X-ray spot on sample (mm)</td>
      </tr>
      <tr>
        <td>Energy Skew</td>
        <td>γ<sub>E</sub></td>
        <td>Asymmetry of source energy distribution</td>
      </tr>
      <tr>
        <td>Spatial Skew</td>
        <td>γ<sub>Y</sub></td>
        <td>Asymmetry of spot spatial distribution</td>
      </tr>
      <tr>
        <td>Energy Gradient</td>
        <td>α</td>
        <td>Energy variation across spot (dE/dy)</td>
      </tr>
    </table>

    <h3>4. 2D Detector Parameters</h3>
    <table>
      <tr>
        <th>Parameter</th>
        <th>Symbol</th>
        <th>Description</th>
      </tr>
      <tr>
        <td>Smile Curvature</td>
        <td>κ</td>
        <td>Parabolic distortion from analyzer aberration</td>
      </tr>
      <tr>
        <td>Detector Tilt</td>
        <td>θ</td>
        <td>Misalignment of detector mounting angle</td>
      </tr>
      <tr>
        <td>Detector Resolution</td>
        <td>σ<sub>det</sub></td>
        <td>Intrinsic resolution of 2D detector (meV)</td>
      </tr>
    </table>

    <h2>Simulation Pipeline</h2>
    <ol>
      <li><strong>Fermi-Dirac Distribution</strong>: Generate ideal step function at given temperature</li>
      <li><strong>2D Emission</strong>: Project spectrum through X-ray spot spatial distribution</li>
      <li><strong>Detector Distortion</strong>: Apply smile curvature and tilt transformation</li>
      <li><strong>Resolution Convolution</strong>: Convolve with source and detector Gaussian kernels</li>
      <li><strong>1D Projection</strong>: Sum along spatial axis to get observed spectrum</li>
      <li><strong>Noise Addition</strong>: Apply Poisson and Gaussian noise</li>
    </ol>

    <h2>Key Insight</h2>
    <p class="highlight">
      The simulator demonstrates how geometric distortions (smile, tilt) and resolution components
      (source, detector) combine to create the observed IRF asymmetry. By adjusting parameters
      interactively, users can understand how each component affects the measured spectrum.
    </p>

    <footer style="margin-top: 3rem; padding-top: 1rem; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary);">
      <p><a href="https://github.com/stoyoda0012-cyber/xps-irf-simulator-react" style="color: var(--accent-blue);">View on GitHub</a></p>
    </footer>
  </div>
</body>
</html>
